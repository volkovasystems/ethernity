{"version":3,"sources":["ethernity.support.js"],"names":["clazof","require","depher","diatom","doubt","falze","falzy","harden","moment","optfor","raze","stringe","truly","U200b","COMPACT_FORMAT","DEFAULT_SEPARATOR","ISO8601_FORMAT","NUMERIC_PATTERN","SIMPLE_DATE_FORMAT","SIMPLE_TIME_FORMAT","TRUE_TIME_PATTERN","Ethernity","now","compact","prototype","toString","trueTime","valueOf","initialize","date","ARRAY","length","offset","utc","millisecond","utcOffset","persist","test","parse","isValid","toDate","Error","arguments","error","stack","Date","parseInt","polarity","Math","abs","replace","getUTCFullYear","getUTCMonth","slice","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","join","separate","year","month","hour","minute","second","relativeTime","format","realTime","getTime","getDate","printTime","separator","complete","parameter","STRING","BOOLEAN","map","onEachToken","token","module","exports"],"mappings":"AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,IAAMA,SAASC,QAAS,QAAT,CAAf;AACA,IAAMC,SAASD,QAAS,QAAT,CAAf;AACA,IAAME,SAASF,QAAS,QAAT,CAAf;AACA,IAAMG,QAAQH,QAAS,OAAT,CAAd;AACA,IAAMI,QAAQJ,QAAS,OAAT,CAAd;AACA,IAAMK,QAAQL,QAAS,OAAT,CAAd;AACA,IAAMM,SAASN,QAAS,QAAT,CAAf;AACA,IAAMO,SAASP,QAAS,QAAT,CAAf;AACA,IAAMQ,SAASR,QAAS,QAAT,CAAf;AACA,IAAMS,OAAOT,QAAS,MAAT,CAAb;AACA,IAAMU,UAAUV,QAAS,SAAT,CAAhB;AACA,IAAMW,QAAQX,QAAS,OAAT,CAAd;AACA,IAAMY,QAAQZ,QAAS,OAAT,CAAd;;AAEA,IAAMa,iBAAiB,gBAAvB;AACA,IAAMC,oBAAoB,KAA1B;AACA,IAAMC,iBAAiB,qBAAvB;AACA,IAAMC,kBAAkB,KAAxB;AACA,IAAMC,qBAAqB,eAA3B;AACA,IAAMC,qBAAqB,YAA3B;AACA,IAAMC,oBAAoB,oCAA1B;;AAEA,IAAMC,YAAYlB,OAAQ,WAAR,CAAlB;;AAEAI,OAAQ,KAAR,EAAe,SAASe,GAAT,GAAe;AAC7B,QAAOD,YAAaE,OAAb,EAAP;AACA,CAFD,EAEGF,SAFH;;AAIAA,UAAUG,SAAV,CAAoBC,QAApB,GAA+B,SAASA,QAAT,GAAoB;AAClD,QAAO,KAAKC,QAAZ;AACA,CAFD;;AAIAL,UAAUG,SAAV,CAAoBG,OAApB,GAA8B,SAASA,OAAT,GAAmB;AAChD,QAAO,KAAKD,QAAZ;AACA,CAFD;;AAIAL,UAAUG,SAAV,CAAoBI,UAApB,GAAiC,SAASA,UAAT,CAAqBC,IAArB,EAA2B;AAC3D;;;;;;;;;;;;AAYA,KAAIzB,MAAOyB,IAAP,EAAaC,KAAb;AACH,QAAOD,KAAM,CAAN,CAAP,IAAoB,QADjB;AAEH,QAAOA,KAAM,CAAN,CAAP,IAAoB,QAFjB;AAGHlB,SAASkB,KAAM,CAAN,CAAT,EAAqBE,MAArB,IAA+B,EAHhC;AAIA;AACC,OAAKC,MAAL,GAAcH,KAAM,CAAN,CAAd;;AAEA,OAAKA,IAAL,GAAYrB,OAAOyB,GAAP,CAAYJ,KAAM,CAAN,CAAZ,EAAuBf,cAAvB;AACVoB,aADU,CACG,CADH;AAEVC,WAFU,CAEC,KAAKH,MAFN,CAAZ;;AAIA,OAAKI,OAAL;;AAEA,EAbD,MAaM,IAAI,OAAOP,IAAP,IAAe,QAAf,IAA2BA,KAAKE,MAAL,IAAe,EAA1C,IAAgDX,kBAAkBiB,IAAlB,CAAwBR,IAAxB,CAApD,EAAoF;AACzF,OAAKA,IAAL,GAAYA,IAAZ;;AAEA,OAAKS,KAAL;;AAEA,EALK,MAKA,IAAI1B,MAAOiB,IAAP,KAAiB,OAAOA,IAAP,IAAe,QAApC,EAA8C;AACnD,MAAG;AACFA,UAAOrB,OAAQqB,IAAR,CAAP;;AAEA,OAAIA,KAAKU,OAAL,EAAJ,EAAqB;AACpB,SAAKX,UAAL,CAAiBC,KAAKW,MAAL,EAAjB;;AAEA,IAHD,MAGK;AACJ,UAAM,IAAIC,KAAJ,2BAAoCC,UAAW,CAAX,CAApC,CAAN;AACA;;AAED,GAVD,CAUC,OAAOC,KAAP,EAAc;AACd,SAAM,IAAIF,KAAJ,4CAAqDE,MAAMC,KAA3D,CAAN;AACA;;AAED,EAfK,MAeA,IAAI5C,OAAQ6B,IAAR,EAAcgB,IAAd,CAAJ,EAA0B;AAC/B,OAAKhB,IAAL,GAAYrB,OAAQqB,IAAR,CAAZ;;AAEA,OAAKO,OAAL;;AAEA,EALK,MAKD;AACJ,OAAKP,IAAL,GAAYrB,OAAQ,IAAIqC,IAAJ,EAAR,CAAZ;;AAEA,OAAKT,OAAL;AACA;;AAED,QAAO,IAAP;AACA,CA1DD;;AA4DA;;;;;;;AAOAf,UAAUG,SAAV,CAAoBY,OAApB,GAA8B,SAASA,OAAT,GAAmB;AAChD,KAAIxB,MAAO,KAAKc,QAAZ,CAAJ,EAA4B;AAC3B,SAAO,KAAKA,QAAZ;AACA;;AAED,KAAIG,OAAO,KAAKA,IAAL,CAAUW,MAAV,EAAX;;AAEA,KAAIR,SAAS,KAAKA,MAAL,IAAe,KAAKH,IAAL,CAAUM,SAAV,EAA5B;AACA,KAAG;AACFH,WAASc,SAAUd,MAAV,CAAT;;AAEA,EAHD,CAGC,OAAOW,KAAP,EAAc;AACd,QAAM,IAAIF,KAAJ,+BAAwCE,MAAMC,KAA9C,CAAN;AACA;;AAED,KAAIG,WAAW,CAAf;AACA,KAAIf,UAAU,CAAd,EAAiB;AAChBe,aAAWf,SAASgB,KAAKC,GAAL,CAAUjB,MAAV,CAApB;AACA;;AAED,KAAIN,WAAWb,MAAO;AACrB;AACAF,SAASoC,QAAT,EAAoBG,OAApB,CAA6BjC,eAA7B,EAA8C,EAA9C,KAAsD,GAFjC;;AAIrB;AACAY,MAAKsB,cAAL,EALqB;;AAOrB;AACA,EAAE,OAAQtB,KAAKuB,WAAL,KAAsB,CAA9B,CAAF,EAAsCC,KAAtC,CAA6C,CAAC,CAA9C,CARqB;;AAUrB;AACA,EAAE,MAAQxB,KAAKyB,UAAL,EAAV,EAAiCD,KAAjC,CAAwC,CAAC,CAAzC,CAXqB;;AAarB;AACA,EAAE,MAAQxB,KAAK0B,WAAL,EAAV,EAAkCF,KAAlC,CAAyC,CAAC,CAA1C,CAdqB;;AAgBrB;AACA,EAAE,MAAQxB,KAAK2B,aAAL,EAAV,EAAoCH,KAApC,CAA2C,CAAC,CAA5C,CAjBqB;;AAmBrB;AACA,EAAE,MAAQxB,KAAK4B,aAAL,EAAV,EAAoCJ,KAApC,CAA2C,CAAC,CAA5C,CApBqB;;AAsBrB;AACA,EAAE,QAAQL,KAAKC,GAAL,CAAUjB,MAAV,CAAV,EAA+BqB,KAA/B,CAAsC,CAAC,CAAvC,CAvBqB,CAAP;AAwBXK,KAxBW,EAAf;;AA0BA,MAAKhC,QAAL,GAAgBA,QAAhB;;AAEA,MAAKM,MAAL,GAAcA,MAAd;;AAEA,QAAON,QAAP;AACA,CAnDD;;AAqDA;;;;;AAKAL,UAAUG,SAAV,CAAoBc,KAApB,GAA4B,SAASA,KAAT,GAAiB;AAC5C,KAAIT,OAAO,KAAKA,IAAhB;;AAEA,KAAI,OAAO,KAAKA,IAAZ,IAAoB,QAAxB,EAAkC;AACjCA,SAAOhB,MAAO,KAAKgB,IAAZ,EAAmB8B,QAAnB,EAAP;;AAEA,EAHD,MAGM,IAAI/C,MAAO,KAAKc,QAAZ,CAAJ,EAA4B;AACjCG,SAAOhB,MAAO,KAAKa,QAAZ,EAAuBiC,QAAvB,EAAP;;AAEA,EAHK,MAGD;AACJ,QAAM,IAAIlB,KAAJ,CAAW,oBAAX,CAAN;AACA;;AAED,KAAG;AACF,MAAIM,WAAWD,SAAUjB,KAAM,CAAN,IAAY,CAAtB,CAAf;;AAEA,OAAKG,MAAL,GAAce,WAAWD,SAAUjB,KAAM,CAAN,CAAV,CAAzB;;AAEAA,SAAOrB,OAAOyB,GAAP;AACL2B,MADK,CACCd,SAAUjB,KAAM,CAAN,CAAV,CADD;AAELgC,OAFK,CAEEf,SAAUjB,KAAM,CAAN,CAAV,IAAwB,CAF1B;AAGLA,MAHK,CAGCiB,SAAUjB,KAAM,CAAN,CAAV,CAHD;AAILiC,MAJK,CAIChB,SAAUjB,KAAM,CAAN,CAAV,CAJD;AAKLkC,QALK,CAKGjB,SAAUjB,KAAM,CAAN,CAAV,CALH;AAMLmC,QANK,CAMGlB,SAAUjB,KAAM,CAAN,CAAV,CANH;AAOLK,aAPK,CAOQ,CAPR,CAAP;;AASA,EAdD,CAcC,OAAOS,KAAP,EAAc;AACd,QAAM,IAAIF,KAAJ,+BAAwCE,MAAMC,KAA9C,CAAN;AACA;;AAED;AACA,MAAKf,IAAL,GAAYA,IAAZ;;AAEA,MAAKO,OAAL;;AAEA,QAAO,IAAP;AACA,CArCD;;AAuCA;;;;;;;;;;AAUAf,UAAUG,SAAV,CAAoByC,YAApB,GAAmC,SAASA,YAAT,GAAwB;AAC1D,KAAI5D,MAAO,KAAKwB,IAAZ,CAAJ,EAAwB;AACvB,QAAM,IAAIY,KAAJ,CAAW,qBAAX,CAAN;AACA;;AAED,KAAInC,MAAO,KAAK0B,MAAZ,CAAJ,EAA0B;AACzB,QAAM,IAAIS,KAAJ,CAAW,gCAAX,CAAN;AACA;;AAED,QAAO,KAAKZ,IAAL,CAAUI,GAAV,GAAiBE,SAAjB,CAA4B,KAAKH,MAAjC,EAA0CkC,MAA1C,CAAkDlD,cAAlD,CAAP;AACA,CAVD;;AAYA;;;;;;;;;AASAK,UAAUG,SAAV,CAAoB2C,QAApB,GAA+B,SAASA,QAAT,GAAoB;AAClD,KAAI9D,MAAO,KAAKwB,IAAZ,CAAJ,EAAwB;AACvB,QAAM,IAAIY,KAAJ,CAAW,qBAAX,CAAN;AACA;;AAED,QAAO,KAAKZ,IAAL,CAAUI,GAAV,GAAiBiC,MAAjB,CAAyBlD,cAAzB,CAAP;AACA,CAND;;AAQA;;;;;;;AAOAK,UAAUG,SAAV,CAAoB4C,OAApB,GAA8B,SAASA,OAAT,GAAmB;AAChD,KAAI/D,MAAO,KAAKwB,IAAZ,CAAJ,EAAwB;AACvB,QAAM,IAAIY,KAAJ,CAAW,qBAAX,CAAN;AACA;;AAED,KAAInC,MAAO,KAAK0B,MAAZ,CAAJ,EAA0B;AACzB,QAAM,IAAIS,KAAJ,CAAW,gCAAX,CAAN;AACA;;AAED,QAAO,KAAKZ,IAAL,CAAUI,GAAV,GAAiBE,SAAjB,CAA4B,KAAKH,MAAjC,EAA0CkC,MAA1C,CAAkD/C,kBAAlD,CAAP;AACA,CAVD;;AAYA;;;;;;;AAOAE,UAAUG,SAAV,CAAoB6C,OAApB,GAA8B,SAASA,OAAT,GAAmB;AAChD,KAAI/D,MAAO,KAAKuB,IAAZ,CAAJ,EAAwB;AACvB,QAAM,IAAIY,KAAJ,CAAW,qBAAX,CAAN;AACA;;AAED,KAAInC,MAAO,KAAK0B,MAAZ,CAAJ,EAA0B;AACzB,QAAM,IAAIS,KAAJ,CAAW,gCAAX,CAAN;AACA;;AAED,QAAO,KAAKZ,IAAL,CAAUI,GAAV,GAAiBE,SAAjB,CAA4B,KAAKH,MAAjC,EAA0CkC,MAA1C,CAAkDhD,kBAAlD,CAAP;AACA,CAVD;;AAYA;;;;;;;;;AASAG,UAAUG,SAAV,CAAoB8C,SAApB,GAAgC,SAASA,SAAT,CAAoBC,SAApB,EAA+BC,QAA/B,EAAyC;AACxE;;;;;;;;;AASA,KAAIC,YAAY/D,KAAMgC,SAAN,CAAhB;;AAEA6B,aAAY9D,OAAQgE,SAAR,EAAmBC,MAAnB,CAAZ;;AAEAH,aAAYA,aAAaxD,iBAAzB;AACA,KAAI,OAAOwD,SAAP,IAAoB,QAAxB,EAAkC;AACjCA,cAAYxD,iBAAZ;AACA;;AAEDyD,YAAWtE,OAAQwC,SAAR,EAAmBiC,OAAnB,EAA4B,KAA5B,CAAX;;AAEA,KAAIH,aAAa,IAAjB,EAAuB;AACtB,SAAO,CAAE,KAAKH,OAAL,EAAF,EAAmB,KAAKD,OAAL,EAAnB,EAAoC,KAAK1C,QAAzC,EAAoDgC,IAApD,CAA0Da,SAA1D,CAAP;;AAEA,EAHD,MAGK;AACJ,SAAO,CAAE,KAAKF,OAAL,EAAF,EAAmB,KAAKD,OAAL,EAAnB,EAAqCV,IAArC,CAA2Ca,SAA3C,CAAP;AACA;AACD,CA3BD;;AA6BA;;;;;AAKAlD,UAAUG,SAAV,CAAoBD,OAApB,GAA8B,SAASA,OAAT,GAAmB;AAChD,QAAO,CAAE,KAAKM,IAAL,CAAUI,GAAV,GAAiBiC,MAAjB,CAAyBpD,cAAzB,CAAF,EAA6C,KAAKkB,MAAlD;AACL4C,IADK,CACA,SAASC,WAAT,CAAsBC,KAAtB,EAA6B,CAAE,OAAOhC,SAAUnC,QAASmE,KAAT,CAAV,CAAP,CAAsC,CADrE,CAAP;AAEA,CAHD;;;;AAOAC,OAAOC,OAAP,GAAiB3D,SAAjB","file":"ethernity.support.js","sourcesContent":["\"use strict\";\r\n\r\n/*;\r\n\t@module-license:\r\n\t\tThe MIT License (MIT)\r\n\t\t@mit-license\r\n\r\n\t\tCopyright (@c) 2017 Richeve Siodina Bebedor\r\n\t\t@email: richeve.bebedor@gmail.com\r\n\r\n\t\tPermission is hereby granted, free of charge, to any person obtaining a copy\r\n\t\tof this software and associated documentation files (the \"Software\"), to deal\r\n\t\tin the Software without restriction, including without limitation the rights\r\n\t\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n\t\tcopies of the Software, and to permit persons to whom the Software is\r\n\t\tfurnished to do so, subject to the following conditions:\r\n\r\n\t\tThe above copyright notice and this permission notice shall be included in all\r\n\t\tcopies or substantial portions of the Software.\r\n\r\n\t\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n\t\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n\t\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n\t\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n\t\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n\t\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n\t\tSOFTWARE.\r\n\t@end-module-license\r\n\r\n\t@module-configuration:\r\n\t\t{\r\n\t\t\t\"package\": \"ethernity\",\r\n\t\t\t\"path\": \"ethernity/ethernity.js\",\r\n\t\t\t\"file\": \"ethernity.js\",\r\n\t\t\t\"module\": \"ethernity\",\r\n\t\t\t\"author\": \"Richeve S. Bebedor\",\r\n\t\t\t\"eMail\": \"richeve.bebedor@gmail.com\",\r\n\t\t\t\"contributors\": [\r\n\t\t\t\t\"John Lenon Maghanoy <johnlenonmaghanoy@gmail.com>\",\r\n\t\t\t\t\"Vinse Vinalon <vinsevinalon@gmail.com>\"\r\n\t\t\t],\r\n\t\t\t\"repository\": \"https://github.com:volkovasystems/ethernity.git\",\r\n\t\t\t\"test\": \"ethernity-test.js\",\r\n\t\t\t\"global\": true,\r\n\t\t\t\"class\": true,\r\n\t\t}\r\n\t@end-module-configuration\r\n\r\n\t@module-documentation:\r\n\t\tPersist time as true time.\r\n\r\n\t\tThis will discard milliseconds value.\r\n\t@end-module-documentation\r\n\r\n\t@include:\r\n\t\t{\r\n\t\t\t\"clazof\": \"clazof\",\r\n\t\t\t\"depher\": \"depher\",\r\n\t\t\t\"diatom\": \"diatom\",\r\n\t\t\t\"doubt\": \"doubt\",\r\n\t\t\t\"falze\": \"falze\",\r\n\t\t\t\"falzy\": \"falzy\",\r\n\t\t\t\"harden\": \"harden\",\r\n\t\t\t\"moment\": \"moment\",\r\n\t\t\t\"optfor\": \"optfor\",\r\n\t\t\t\"raze\": \"raze\",\r\n\t\t\t\"stringe\": \"stringe\",\r\n\t\t\t\"truly\": \"truly\",\r\n\t\t\t\"U200b\": \"u200b\"\r\n\t\t}\r\n\t@end-include\r\n*/\r\n\r\nconst clazof = require( \"clazof\" );\r\nconst depher = require( \"depher\" );\r\nconst diatom = require( \"diatom\" );\r\nconst doubt = require( \"doubt\" );\r\nconst falze = require( \"falze\" );\r\nconst falzy = require( \"falzy\" );\r\nconst harden = require( \"harden\" );\r\nconst moment = require( \"moment\" );\r\nconst optfor = require( \"optfor\" );\r\nconst raze = require( \"raze\" );\r\nconst stringe = require( \"stringe\" );\r\nconst truly = require( \"truly\" );\r\nconst U200b = require( \"u200b\" );\r\n\r\nconst COMPACT_FORMAT = \"YYYYMMDDHHmmss\";\r\nconst DEFAULT_SEPARATOR = \" | \";\r\nconst ISO8601_FORMAT = \"YYYY-MM-DDTHH:mm:ss\";\r\nconst NUMERIC_PATTERN = /\\d+/;\r\nconst SIMPLE_DATE_FORMAT = \"MMMM DD, YYYY\";\r\nconst SIMPLE_TIME_FORMAT = \"hh:mm:ss A\";\r\nconst TRUE_TIME_PATTERN = /^\\-[\\d\\u200b]{26}|^[\\d\\u200b]{27}$/;\r\n\r\nconst Ethernity = diatom( \"Ethernity\" );\r\n\r\nharden( \"now\", function now( ){\r\n\treturn Ethernity( ).compact( );\r\n}, Ethernity );\r\n\r\nEthernity.prototype.toString = function toString( ){\r\n\treturn this.trueTime;\r\n};\r\n\r\nEthernity.prototype.valueOf = function valueOf( ){\r\n\treturn this.trueTime;\r\n};\r\n\r\nEthernity.prototype.initialize = function initialize( date ){\r\n\t/*;\r\n\t\t@meta-configuration:\r\n\t\t\t{\r\n\t\t\t\t\"date:required\": [\r\n\t\t\t\t\t[ \"number\", \"number\" ],\r\n\t\t\t\t\t\"string\",\r\n\t\t\t\t\tDate\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t@end-meta-configuration\r\n\t*/\r\n\r\n\tif( doubt( date, ARRAY ) &&\r\n\t\ttypeof date[ 0 ] == \"number\" &&\r\n\t\ttypeof date[ 1 ] == \"number\" &&\r\n\t\tstringe( date[ 0 ] ).length == 14 )\r\n\t{\r\n\t\tthis.offset = date[ 1 ];\r\n\r\n\t\tthis.date = moment.utc( date[ 0 ], COMPACT_FORMAT )\r\n\t\t\t.millisecond( 0 )\r\n\t\t\t.utcOffset( this.offset );\r\n\r\n\t\tthis.persist( );\r\n\r\n\t}else if( typeof date == \"string\" && date.length == 27 && TRUE_TIME_PATTERN.test( date ) ){\r\n\t\tthis.date = date;\r\n\r\n\t\tthis.parse( );\r\n\r\n\t}else if( truly( date ) && typeof date == \"string\" ){\r\n\t\ttry{\r\n\t\t\tdate = moment( date );\r\n\r\n\t\t\tif( date.isValid( ) ){\r\n\t\t\t\tthis.initialize( date.toDate( ) );\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthrow new Error( `invalid date format, ${ arguments[ 0 ] }` );\r\n\t\t\t}\r\n\r\n\t\t}catch( error ){\r\n\t\t\tthrow new Error( `error encountered while parsing date, ${ error.stack }` );\r\n\t\t}\r\n\r\n\t}else if( clazof( date, Date ) ){\r\n\t\tthis.date = moment( date );\r\n\r\n\t\tthis.persist( );\r\n\r\n\t}else{\r\n\t\tthis.date = moment( new Date( ) );\r\n\r\n\t\tthis.persist( );\r\n\t}\r\n\r\n\treturn this;\r\n};\r\n\r\n/*\r\n\t@method-documentation:\r\n\t\tThis should be persisted on the machine where the timezone is persisted.\r\n\r\n\t\tIt will save the true time in utc format + the machine timezone.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.persist = function persist( ){\r\n\tif( truly( this.trueTime ) ){\r\n\t\treturn this.trueTime;\r\n\t}\r\n\r\n\tlet date = this.date.toDate( );\r\n\r\n\tlet offset = this.offset || this.date.utcOffset( );\r\n\ttry{\r\n\t\toffset = parseInt( offset );\r\n\r\n\t}catch( error ){\r\n\t\tthrow new Error( `invalid timezone offset, ${ error.stack }` );\r\n\t}\r\n\r\n\tlet polarity = 0;\r\n\tif( offset != 0 ){\r\n\t\tpolarity = offset / Math.abs( offset );\r\n\t}\r\n\r\n\tlet trueTime = U200b( [\r\n\t\t//: positive / negative offset\r\n\t\tstringe( polarity ).replace( NUMERIC_PATTERN, \"\" ) || \"0\",\r\n\r\n\t\t//: year\r\n\t\tdate.getUTCFullYear( ),\r\n\r\n\t\t//: month\r\n\t\t( \"0\" + ( date.getUTCMonth( ) + 1 ) ).slice( -2 ),\r\n\r\n\t\t//: day\r\n\t\t( \"0\" + ( date.getUTCDate( ) ) ).slice( -2 ),\r\n\r\n\t\t//: hour\r\n\t\t( \"0\" + ( date.getUTCHours( ) ) ).slice( -2 ),\r\n\r\n\t\t//: minute\r\n\t\t( \"0\" + ( date.getUTCMinutes( ) ) ).slice( -2 ),\r\n\r\n\t\t//: second\r\n\t\t( \"0\" + ( date.getUTCSeconds( ) ) ).slice( -2 ),\r\n\r\n\t\t//: offset\r\n\t\t( \"000\" + Math.abs( offset ) ).slice( -5 )\r\n\t] ).join( );\r\n\r\n\tthis.trueTime = trueTime;\r\n\r\n\tthis.offset = offset;\r\n\r\n\treturn trueTime;\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tDecompose true time to a moment object.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.parse = function parse( ){\r\n\tlet date = this.date;\r\n\r\n\tif( typeof this.date == \"string\" ){\r\n\t\tdate = U200b( this.date ).separate( );\r\n\r\n\t}else if( truly( this.trueTime ) ){\r\n\t\tdate = U200b( this.trueTime ).separate( );\r\n\r\n\t}else{\r\n\t\tthrow new Error( \"date not specified\" );\r\n\t}\r\n\r\n\ttry{\r\n\t\tlet polarity = parseInt( date[ 0 ] + 1 );\r\n\r\n\t\tthis.offset = polarity * parseInt( date[ 7 ] );\r\n\r\n\t\tdate = moment.utc( )\r\n\t\t\t.year( parseInt( date[ 1 ] ) )\r\n\t\t\t.month( parseInt( date[ 2 ] ) - 1 )\r\n\t\t\t.date( parseInt( date[ 3 ] ) )\r\n\t\t\t.hour( parseInt( date[ 4 ] ) )\r\n\t\t\t.minute( parseInt( date[ 5 ] ) )\r\n\t\t\t.second( parseInt( date[ 6 ] ) )\r\n\t\t\t.millisecond( 0 );\r\n\r\n\t}catch( error ){\r\n\t\tthrow new Error( `error parsing true time, ${ error.stack }` );\r\n\t}\r\n\r\n\t//: This will set the timezone of the Date object to the machine timezone.\r\n\tthis.date = date;\r\n\r\n\tthis.persist( );\r\n\r\n\treturn this;\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tRelative time is the time applied with UTC offset.\r\n\r\n\t\tThis will return the time in ISO8601 format format with milliseconds dropped.\r\n\t\t\t@code:YYYY-MM-DDTHH:mm.ss;\r\n\r\n\t\tDo not use this to reference true time.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.relativeTime = function relativeTime( ){\r\n\tif( falze( this.date ) ){\r\n\t\tthrow new Error( \"internal date empty\" );\r\n\t}\r\n\r\n\tif( falzy( this.offset ) ){\r\n\t\tthrow new Error( \"internal timezone offset empty\" );\r\n\t}\r\n\r\n\treturn this.date.utc( ).utcOffset( this.offset ).format( ISO8601_FORMAT );\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tReal time is the time with no UTC offset applied.\r\n\r\n\t\tThis will return the time in ISO8601 format with milliseconds dropped.\r\n\r\n\t\t`YYYY-MM-DDTHH:mm.ss`\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.realTime = function realTime( ){\r\n\tif( falze( this.date ) ){\r\n\t\tthrow new Error( \"internal date empty\" );\r\n\t}\r\n\r\n\treturn this.date.utc( ).format( ISO8601_FORMAT );\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tReturns a simple human readable representation of time in 12 hour format.\r\n\r\n\t\tTime will be relative.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.getTime = function getTime( ){\r\n\tif( falze( this.date ) ){\r\n\t\tthrow new Error( \"internal date empty\" );\r\n\t}\r\n\r\n\tif( falzy( this.offset ) ){\r\n\t\tthrow new Error( \"internal timezone offset empty\" );\r\n\t}\r\n\r\n\treturn this.date.utc( ).utcOffset( this.offset ).format( SIMPLE_TIME_FORMAT );\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tReturns a simple human readable representation of date.\r\n\r\n\t\tDate will be relative.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.getDate = function getDate( ){\r\n\tif( falzy( this.date ) ){\r\n\t\tthrow new Error( \"internal date empty\" );\r\n\t}\r\n\r\n\tif( falzy( this.offset ) ){\r\n\t\tthrow new Error( \"internal timezone offset empty\" );\r\n\t}\r\n\r\n\treturn this.date.utc( ).utcOffset( this.offset ).format( SIMPLE_DATE_FORMAT );\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tReturns a simple human readable representation of time and date.\r\n\r\n\t\tTime and date will be relative.\r\n\r\n\t\tSetting complete will append true time format.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.printTime = function printTime( separator, complete ){\r\n\t/*;\r\n\t\t@meta-configuration:\r\n\t\t\t{\r\n\t\t\t\t\"separator\": \"string\",\r\n\t\t\t\t\"complete\": \"boolean\"\r\n\t\t\t}\r\n\t\t@end-meta-configuration\r\n\t*/\r\n\r\n\tlet parameter = raze( arguments );\r\n\r\n\tseparator = optfor( parameter, STRING );\r\n\r\n\tseparator = separator || DEFAULT_SEPARATOR;\r\n\tif( typeof separator != \"string\" ){\r\n\t\tseparator = DEFAULT_SEPARATOR;\r\n\t}\r\n\r\n\tcomplete = depher( arguments, BOOLEAN, false );\r\n\r\n\tif( complete === true ){\r\n\t\treturn [ this.getDate( ), this.getTime( ), this.trueTime ].join( separator );\r\n\r\n\t}else{\r\n\t\treturn [ this.getDate( ), this.getTime( ) ].join( separator );\r\n\t}\r\n};\r\n\r\n/*;\r\n\t@method-documentation:\r\n\t\tReturns a numerical representation of true time.\r\n\t@end-method-documentation\r\n*/\r\nEthernity.prototype.compact = function compact( ){\r\n\treturn [ this.date.utc( ).format( COMPACT_FORMAT ), this.offset ]\r\n\t\t.map( function onEachToken( token ){ return parseInt( stringe( token ) ); } );\r\n};\r\n\r\n\r\n\r\nmodule.exports = Ethernity;\r\n"]}